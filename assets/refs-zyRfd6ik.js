import{P as C,ae as k,d as Y,l as O,c as y,f as V,a as S,e as N,E as L,b as B,n as E,u as r,H as M,B as v,w as A,as as R,q as D,T as w}from"./index-Dl0LtAlN.js";import{b as z,M as G,_ as K,f as U,u as g,a as $,E as H,w as x,Q as X,p as q}from"./base-D-6r2uek.js";var Q=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(Q||{});const _=e=>{const n=C(e)?e:[e],o=[];return n.forEach(s=>{var l;C(s)?o.push(..._(s)):k(s)&&((l=s.component)!=null&&l.subTree)?o.push(s,..._(s.component.subTree)):k(s)&&C(s.children)?o.push(..._(s.children)):k(s)&&s.shapeFlag===2?o.push(..._(s.type())):o.push(s)}),o},j=z({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:G},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),J={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},W=Y({name:"ElTag"}),Z=Y({...W,props:j,emits:J,setup(e,{emit:n}){const o=e,s=U(),{t:l}=g(),a=$("tag"),u=O(()=>{const{type:t,hit:p,effect:d,closable:f,round:T}=o;return[a.b(),a.is("closable",f),a.m(t||"primary"),a.m(s.value),a.m(d),a.is("hit",p),a.is("round",T)]}),c=t=>{n("close",t)},m=t=>{n("click",t)},b=t=>{var p,d,f;(f=(d=(p=t?.component)==null?void 0:p.subTree)==null?void 0:d.component)!=null&&f.bum&&(t.component.subTree.component.bum=null)};return(t,p)=>t.disableTransitions?(S(),y("span",{key:0,class:E(r(u)),style:D({backgroundColor:t.color}),onClick:m},[N("span",{class:E(r(a).e("content"))},[B(t.$slots,"default")],2),t.closable?(S(),y("button",{key:0,"aria-label":r(l)("el.tag.close"),class:E(r(a).e("close")),type:"button",onClick:M(c,["stop"])},[v(r(H),null,{default:A(()=>[v(r(R))]),_:1})],10,["aria-label","onClick"])):L("v-if",!0)],6)):(S(),V(w,{key:1,name:`${r(a).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:b},{default:A(()=>[N("span",{class:E(r(u)),style:D({backgroundColor:t.color}),onClick:m},[N("span",{class:E(r(a).e("content"))},[B(t.$slots,"default")],2),t.closable?(S(),y("button",{key:0,"aria-label":r(l)("el.tag.close"),class:E(r(a).e("close")),type:"button",onClick:M(c,["stop"])},[v(r(H),null,{default:A(()=>[v(r(R))]),_:1})],10,["aria-label","onClick"])):L("v-if",!0)],6)]),_:3},8,["name"]))}});var h=K(Z,[["__file","tag.vue"]]);const ee=x(h),i=new Map;if(q){let e;document.addEventListener("mousedown",n=>e=n),document.addEventListener("mouseup",n=>{if(e){for(const o of i.values())for(const{documentHandler:s}of o)s(n,e);e=void 0}})}function I(e,n){let o=[];return C(n.arg)?o=n.arg:X(n.arg)&&o.push(n.arg),function(s,l){const a=n.instance.popperRef,u=s.target,c=l?.target,m=!n||!n.instance,b=!u||!c,t=e.contains(u)||e.contains(c),p=e===u,d=o.length&&o.some(T=>T?.contains(u))||o.length&&o.includes(c),f=a&&(a.contains(u)||a.contains(c));m||b||t||p||d||f||n.value(s,l)}}const ne={beforeMount(e,n){i.has(e)||i.set(e,[]),i.get(e).push({documentHandler:I(e,n),bindingFn:n.value})},updated(e,n){i.has(e)||i.set(e,[]);const o=i.get(e),s=o.findIndex(a=>a.bindingFn===n.oldValue),l={documentHandler:I(e,n),bindingFn:n.value};s>=0?o.splice(s,1,l):o.push(l)},unmounted(e){i.delete(e)}},oe=(...e)=>n=>{e.forEach(o=>{o.value=n})};export{ne as C,ee as E,Q as P,oe as c,_ as f,j as t};
