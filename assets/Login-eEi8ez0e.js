import"./base-D-6r2uek.js";import{E,a as g,b as w}from"./el-input-DbOBr49_.js";import{E as b}from"./el-button-DOmFqKkE.js";import{d as y,Z as u,V as k,c as x,B as o,w as a,u as n,e as B,U as L,$ as p,a as U,_ as F}from"./index-Dl0LtAlN.js";import{f as S,E as i}from"./api-C7IPUlSU.js";import"./event-BSj6rB80.js";const C={class:"login-body"},I=y({__name:"Login",setup(M){const{loginForm:t}=u(),c=u(),m=k(),_=async()=>{try{const s=await S(t);s.data.code===200&&(i.success("登录成功"),c.token=s.data.token,m.menuList=s.data.data.menuList,m.addMenu(p),await p.replace("/home"))}catch{i.error("登录失败，请检查用户名或密码")}};return(s,e)=>{const d=w,r=g,f=b,V=E;return U(),x("div",C,[o(V,{model:n(t),ref:"loginFormRef",class:"login-form"},{default:a(()=>[e[3]||(e[3]=B("h3",null,"VUE3后台管理登录",-1)),o(r,{prop:"username"},{default:a(()=>[o(d,{modelValue:n(t).username,"onUpdate:modelValue":e[0]||(e[0]=l=>n(t).username=l),placeholder:"用户名"},null,8,["modelValue"])]),_:1}),o(r,{prop:"password"},{default:a(()=>[o(d,{modelValue:n(t).password,"onUpdate:modelValue":e[1]||(e[1]=l=>n(t).password=l),type:"password",placeholder:"密码"},null,8,["modelValue"])]),_:1}),o(r,null,{default:a(()=>[o(f,{type:"primary",onClick:_},{default:a(()=>[...e[2]||(e[2]=[L("登录",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])}}}),Z=F(I,[["__scopeId","data-v-b5fb7ebf"]]);export{Z as default};
